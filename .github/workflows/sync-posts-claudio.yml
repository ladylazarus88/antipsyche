      - name: ðŸ’¾ Robust commit and push
        run: |
          set -e  # Esci immediatamente in caso di errore
          
          echo "=== GESTIONE ROBUSTA ==="
          
          # Configura Git
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          
          # Salva lo stato attuale (per rollback)
          CURRENT_BRANCH=$(git branch --show-current)
          CURRENT_COMMIT=$(git rev-parse HEAD)
          
          # Crea un branch temporaneo per sicurezza
          git checkout -b "auto-sync-$(date +%s)" || true
          
          try_push() {
            echo "ðŸ”„ Tentativo di push..."
            
            # Torna al main e sincronizza
            git checkout $CURRENT_BRANCH
            git pull origin $CURRENT_BRANCH --rebase --autostash
            
            # Aggiungi file
            git add src/content/blog/claudio/
            
            if git diff --cached --quiet; then
              echo "âœ… Nessun cambiamento"
              return 0
            fi
            
            # Commit
            git commit -m "ðŸ“¥ Sync: $(date +'%Y-%m-%d %H:%M')"
            
            # Push
            git push origin $CURRENT_BRANCH
            return $?
          }
          
          # Prova fino a 3 volte
          for i in 1 2 3; do
            echo "Tentativo $i/3..."
            if try_push; then
              echo "ðŸŽ‰ Successo!"
              break
            else
              echo "âŒ Tentativo $i fallito, ritento in 10 secondi..."
              sleep 10
              
              # Resetta allo stato originale
              git checkout $CURRENT_BRANCH
              git reset --hard $CURRENT_COMMIT
              git clean -fd
              
              # Scarica di nuovo i file
              git checkout "auto-sync-*" -- src/content/blog/claudio/ 2>/dev/null || true
            fi
            
            if [ $i -eq 3 ]; then
              echo "âŒ Tutti i tentativi falliti. Manual intervention needed."
              exit 1
            fi
          done
          
          # Pulisci branch temporanei
          git branch -D "auto-sync-*" 2>/dev/null || true